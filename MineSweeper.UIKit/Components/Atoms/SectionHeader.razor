@namespace MineSweeper.Components.Atoms

<div class="@GetHeaderClasses()" @attributes="AdditionalAttributes">
    @if (!string.IsNullOrWhiteSpace(Icon))
    {
        <span class="@GetIconClasses()">@Icon</span>
    }
    @if (!string.IsNullOrWhiteSpace(Title))
    {
        @Title
    }
    @ChildContent
</div>

@code {
    [Parameter]
    public RenderFragment? ChildContent { get; set; }

    [Parameter]
    public string? Title { get; set; }

    [Parameter]
    public string? Icon { get; set; }

    [Parameter]
    public HeaderSize Size { get; set; } = HeaderSize.Large;

    [Parameter]
    public string? Class { get; set; }

    [Parameter(CaptureUnmatchedValues = true)]
    public Dictionary<string, object>? AdditionalAttributes { get; set; }

    private string GetHeaderClasses()
    {
        var classes = new List<string> { "font-bold text-white flex items-center gap-3" };

        // Size styles
        classes.Add(Size switch
        {
            HeaderSize.ExtraLarge => "text-4xl sm:text-5xl mb-8",
            HeaderSize.Large => "text-3xl sm:text-4xl mb-6",
            HeaderSize.Medium => "text-2xl sm:text-3xl mb-5",
            HeaderSize.Small => "text-xl sm:text-2xl mb-4",
            HeaderSize.ExtraSmall => "text-lg sm:text-xl mb-3",
            _ => "text-3xl sm:text-4xl mb-6"
        });

        // Additional custom classes
        if (!string.IsNullOrWhiteSpace(Class))
        {
            classes.Add(Class);
        }

        return string.Join(" ", classes);
    }

    private string GetIconClasses()
    {
        return Size switch
        {
            HeaderSize.ExtraLarge => "text-5xl sm:text-6xl",
            HeaderSize.Large => "text-4xl sm:text-5xl",
            HeaderSize.Medium => "text-3xl sm:text-4xl",
            HeaderSize.Small => "text-2xl sm:text-3xl",
            HeaderSize.ExtraSmall => "text-xl sm:text-2xl",
            _ => "text-4xl sm:text-5xl"
        };
    }

    public enum HeaderSize
    {
        ExtraSmall,
        Small,
        Medium,
        Large,
        ExtraLarge
    }
}