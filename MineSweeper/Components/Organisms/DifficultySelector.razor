<div class="flex flex-wrap justify-center gap-2">
    @foreach (var difficulty in Enum.GetValues<GameDifficulty>())
    {
        <button @onclick="() => SelectDifficulty(difficulty)" 
                class="@GetDifficultyClass(difficulty) px-6 py-3 rounded-xl font-semibold transition-all transform hover:scale-105 hover:shadow-lg flex items-center gap-2">
            <span class="text-lg">@GetDifficultyIcon(difficulty)</span>
            <span>@difficulty</span>
            <span class="text-xs opacity-75">@GetDifficultyDescription(difficulty)</span>
        </button>
    }
</div>

@code {
    [Parameter] public EventCallback<GameDifficulty> OnDifficultySelected { get; set; }
    [Parameter] public GameDifficulty? CurrentDifficulty { get; set; }
    
    private async Task SelectDifficulty(GameDifficulty difficulty)
    {
        await OnDifficultySelected.InvokeAsync(difficulty);
    }
    
    private string GetDifficultyClass(GameDifficulty difficulty)
    {
        var baseClass = "text-white shadow-lg ";

        if (CurrentDifficulty == difficulty)
        {
            baseClass += "ring-2 ring-cyan-400 ring-offset-2 ring-offset-slate-950 shadow-xl ";
        }

        return difficulty switch
        {
            GameDifficulty.Beginner => baseClass + "bg-gradient-to-r from-emerald-500 to-green-600 hover:from-emerald-600 hover:to-green-700 hover:shadow-green-500/50",
            GameDifficulty.Intermediate => baseClass + "bg-gradient-to-r from-amber-500 to-orange-600 hover:from-amber-600 hover:to-orange-700 hover:shadow-orange-500/50",
            GameDifficulty.Expert => baseClass + "bg-gradient-to-r from-rose-500 to-red-600 hover:from-rose-600 hover:to-red-700 hover:shadow-red-500/50",
            _ => baseClass + "bg-gray-600"
        };
    }
    
    private string GetDifficultyIcon(GameDifficulty difficulty)
    {
        return difficulty switch
        {
            GameDifficulty.Beginner => "ðŸŒ±",
            GameDifficulty.Intermediate => "ðŸ”¥",
            GameDifficulty.Expert => "ðŸ’€",
            _ => "â“"
        };
    }
    
    private string GetDifficultyDescription(GameDifficulty difficulty)
    {
        return difficulty switch
        {
            GameDifficulty.Beginner => "(9Ã—9, 10 ðŸ’£)",
            GameDifficulty.Intermediate => "(16Ã—16, 40 ðŸ’£)",
            GameDifficulty.Expert => "(16Ã—30, 99 ðŸ’£)",
            _ => ""
        };
    }
}